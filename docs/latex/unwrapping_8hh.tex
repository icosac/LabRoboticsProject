\hypertarget{unwrapping_8hh}{}\section{src/include/unwrapping.hh File Reference}
\label{unwrapping_8hh}\index{src/include/unwrapping.hh@{src/include/unwrapping.hh}}
{\ttfamily \#include $<$utils.\+hh$>$}\newline
{\ttfamily \#include $<$settings.\+hh$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$cmath$>$}\newline
{\ttfamily \#include $<$opencv2/videoio.\+hpp$>$}\newline
{\ttfamily \#include $<$opencv2/highgui.\+hpp$>$}\newline
{\ttfamily \#include $<$opencv2/core.\+hpp$>$}\newline
{\ttfamily \#include $<$opencv2/opencv.\+hpp$>$}\newline
{\ttfamily \#include $<$opencv2/imgcodecs.\+hpp$>$}\newline
Include dependency graph for unwrapping.\+hh\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{unwrapping_8hh__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{unwrapping_8hh__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} \mbox{\hyperlink{unwrapping_8hh_ae232c3264987d57a223a39226929da29}{unwrapping}} ()
\begin{DoxyCompactList}\small\item\em Take some images according to a xml and unwrap the black rectangle inside the image after appling undistortion trasformation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{unwrapping_8hh_a3cf7df08897ed4d1a7ddcf055b18cca8}{load\+Coefficients}} (const string filename, Mat \&camera\+\_\+matrix, Mat \&dist\+\_\+coeffs)
\begin{DoxyCompactList}\small\item\em Load coefficients from a file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{unwrapping_8hh_ac30b4dbae9022e84e10ef97ba156c581}{find\+\_\+rect}} (vector$<$ Point $>$ \&\+\_\+rect, const \mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} \&width, const \mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} \&height)
\begin{DoxyCompactList}\small\item\em Since the border of the arena might not always be clean but might have some imperfection, this functions computes the four vertixes taking all the points and computing the four that are the clostest to the corner of the image. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{unwrapping_8hh_ac30b4dbae9022e84e10ef97ba156c581}\label{unwrapping_8hh_ac30b4dbae9022e84e10ef97ba156c581}} 
\index{unwrapping.hh@{unwrapping.hh}!find\_rect@{find\_rect}}
\index{find\_rect@{find\_rect}!unwrapping.hh@{unwrapping.hh}}
\subsubsection{\texorpdfstring{find\_rect()}{find\_rect()}}
{\footnotesize\ttfamily void find\+\_\+rect (\begin{DoxyParamCaption}\item[{vector$<$ Point $>$ \&}]{\+\_\+rect,  }\item[{const \mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} \&}]{width,  }\item[{const \mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} \&}]{height }\end{DoxyParamCaption})}



Since the border of the arena might not always be clean but might have some imperfection, this functions computes the four vertixes taking all the points and computing the four that are the clostest to the corner of the image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+rect} & The voctor of cv\+::\+Point to work on. \\
\hline
\mbox{\texttt{ in}}  & {\em width} & The width of the image. \\
\hline
\mbox{\texttt{ in}}  & {\em height} & The height of the image. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{unwrapping_8hh_a3cf7df08897ed4d1a7ddcf055b18cca8}\label{unwrapping_8hh_a3cf7df08897ed4d1a7ddcf055b18cca8}} 
\index{unwrapping.hh@{unwrapping.hh}!loadCoefficients@{loadCoefficients}}
\index{loadCoefficients@{loadCoefficients}!unwrapping.hh@{unwrapping.hh}}
\subsubsection{\texorpdfstring{loadCoefficients()}{loadCoefficients()}}
{\footnotesize\ttfamily void load\+Coefficients (\begin{DoxyParamCaption}\item[{const string}]{filename,  }\item[{Mat \&}]{camera\+\_\+matrix,  }\item[{Mat \&}]{dist\+\_\+coeffs }\end{DoxyParamCaption})}



Load coefficients from a file. 

Load two matrix \textquotesingle{}camera\+\_\+matrix\textquotesingle{} and \textquotesingle{}distortion\+\_\+coefficients\textquotesingle{} from the xml file passed. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em filename} & The string that identify the location of the xml file. \\
\hline
\mbox{\texttt{ out}}  & {\em camera\+\_\+matrix} & Where the \textquotesingle{}camera\+\_\+matrix\textquotesingle{} matrix is saved. \\
\hline
\mbox{\texttt{ out}}  & {\em dist\+\_\+coeffs} & Where the \textquotesingle{}distortion\+\_\+coefficients\textquotesingle{} matrix is saved. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{unwrapping_8hh_ae232c3264987d57a223a39226929da29}\label{unwrapping_8hh_ae232c3264987d57a223a39226929da29}} 
\index{unwrapping.hh@{unwrapping.hh}!unwrapping@{unwrapping}}
\index{unwrapping@{unwrapping}!unwrapping.hh@{unwrapping.hh}}
\subsubsection{\texorpdfstring{unwrapping()}{unwrapping()}}
{\footnotesize\ttfamily \mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} unwrapping (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Take some images according to a xml and unwrap the black rectangle inside the image after appling undistortion trasformation. 

Load from the xml file \textquotesingle{}data/settings.\+xml\textquotesingle{} the name of some images, load the images from the file,~\newline
apply the calibration (undistortion trasformation) thanks to the matrices load with the \textquotesingle{}load\+Coefficients\textquotesingle{} function.~\newline
Then, with the use of a filter for the black the region of interest (a rectangle) is identified and all the perspective is rotated for reach a top view of the rectangle.~\newline
Finally, the images are saved on some files.

\begin{DoxyReturn}{Returns}
A 0 is return if the function reach the end. 
\end{DoxyReturn}
