\hypertarget{unwrapping_8cc}{}\section{src/unwrapping.cc File Reference}
\label{unwrapping_8cc}\index{src/unwrapping.cc@{src/unwrapping.cc}}
{\ttfamily \#include \char`\"{}unwrapping.\+hh\char`\"{}}\newline
Include dependency graph for unwrapping.\+cc\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{unwrapping_8cc__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{unwrapping_8cc_ad72dbcf6d0153db1b8d8a58001feed83}{D\+E\+B\+UG}}
\item 
\#define \mbox{\hyperlink{unwrapping_8cc_aef72fe86b7c60b1a86920496456edeac}{W\+A\+IT}}
\item 
\#define \mbox{\hyperlink{unwrapping_8cc_a73d5cdc3a90f6c8a0e54956c0362a9d7}{area\+\_\+ratio}}~0.\+7
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static float \mbox{\hyperlink{unwrapping_8cc_ac6bcc6db62057bda0b6195a11578fdfa}{distance}} (Point c1, Point c2)
\begin{DoxyCompactList}\small\item\em const string xml\+\_\+settings = \char`\"{}data/settings.\+xml\char`\"{}; \end{DoxyCompactList}\item 
\mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} \mbox{\hyperlink{unwrapping_8cc_ae232c3264987d57a223a39226929da29}{unwrapping}} ()
\begin{DoxyCompactList}\small\item\em Take some images according to a xml and unwrap the black rectangle inside the image after appling undistortion trasformation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{unwrapping_8cc_a3cf7df08897ed4d1a7ddcf055b18cca8}{load\+Coefficients}} (const string filename, Mat \&camera\+\_\+matrix, Mat \&dist\+\_\+coeffs)
\begin{DoxyCompactList}\small\item\em Load coefficients from a file. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{unwrapping_8cc_a73d5cdc3a90f6c8a0e54956c0362a9d7}\label{unwrapping_8cc_a73d5cdc3a90f6c8a0e54956c0362a9d7}} 
\index{unwrapping.cc@{unwrapping.cc}!area\_ratio@{area\_ratio}}
\index{area\_ratio@{area\_ratio}!unwrapping.cc@{unwrapping.cc}}
\subsubsection{\texorpdfstring{area\_ratio}{area\_ratio}}
{\footnotesize\ttfamily \#define area\+\_\+ratio~0.\+7}

\mbox{\Hypertarget{unwrapping_8cc_ad72dbcf6d0153db1b8d8a58001feed83}\label{unwrapping_8cc_ad72dbcf6d0153db1b8d8a58001feed83}} 
\index{unwrapping.cc@{unwrapping.cc}!DEBUG@{DEBUG}}
\index{DEBUG@{DEBUG}!unwrapping.cc@{unwrapping.cc}}
\subsubsection{\texorpdfstring{DEBUG}{DEBUG}}
{\footnotesize\ttfamily \#define D\+E\+B\+UG}

\mbox{\Hypertarget{unwrapping_8cc_aef72fe86b7c60b1a86920496456edeac}\label{unwrapping_8cc_aef72fe86b7c60b1a86920496456edeac}} 
\index{unwrapping.cc@{unwrapping.cc}!WAIT@{WAIT}}
\index{WAIT@{WAIT}!unwrapping.cc@{unwrapping.cc}}
\subsubsection{\texorpdfstring{WAIT}{WAIT}}
{\footnotesize\ttfamily \#define W\+A\+IT}



\subsection{Function Documentation}
\mbox{\Hypertarget{unwrapping_8cc_ac6bcc6db62057bda0b6195a11578fdfa}\label{unwrapping_8cc_ac6bcc6db62057bda0b6195a11578fdfa}} 
\index{unwrapping.cc@{unwrapping.cc}!distance@{distance}}
\index{distance@{distance}!unwrapping.cc@{unwrapping.cc}}
\subsubsection{\texorpdfstring{distance()}{distance()}}
{\footnotesize\ttfamily static float distance (\begin{DoxyParamCaption}\item[{Point}]{c1,  }\item[{Point}]{c2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



const string xml\+\_\+settings = \char`\"{}data/settings.\+xml\char`\"{}; 

Compute the euclidean distance.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em c1} & The first point. \\
\hline
\mbox{\texttt{ in,out}}  & {\em c2} & The second point.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The euclidean distance. 
\end{DoxyReturn}
\mbox{\Hypertarget{unwrapping_8cc_a3cf7df08897ed4d1a7ddcf055b18cca8}\label{unwrapping_8cc_a3cf7df08897ed4d1a7ddcf055b18cca8}} 
\index{unwrapping.cc@{unwrapping.cc}!loadCoefficients@{loadCoefficients}}
\index{loadCoefficients@{loadCoefficients}!unwrapping.cc@{unwrapping.cc}}
\subsubsection{\texorpdfstring{loadCoefficients()}{loadCoefficients()}}
{\footnotesize\ttfamily void load\+Coefficients (\begin{DoxyParamCaption}\item[{const string}]{filename,  }\item[{Mat \&}]{camera\+\_\+matrix,  }\item[{Mat \&}]{dist\+\_\+coeffs }\end{DoxyParamCaption})}



Load coefficients from a file. 

Load two matrix \textquotesingle{}camera\+\_\+matrix\textquotesingle{} and \textquotesingle{}distortion\+\_\+coefficients\textquotesingle{} from the xml file passed. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em filename} & The string that identify the location of the xml file. \\
\hline
\mbox{\texttt{ out}}  & {\em camera\+\_\+matrix} & Where the \textquotesingle{}camera\+\_\+matrix\textquotesingle{} matrix is saved. \\
\hline
\mbox{\texttt{ out}}  & {\em dist\+\_\+coeffs} & Where the \textquotesingle{}distortion\+\_\+coefficients\textquotesingle{} matrix is saved. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{unwrapping_8cc_ae232c3264987d57a223a39226929da29}\label{unwrapping_8cc_ae232c3264987d57a223a39226929da29}} 
\index{unwrapping.cc@{unwrapping.cc}!unwrapping@{unwrapping}}
\index{unwrapping@{unwrapping}!unwrapping.cc@{unwrapping.cc}}
\subsubsection{\texorpdfstring{unwrapping()}{unwrapping()}}
{\footnotesize\ttfamily \mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} unwrapping (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Take some images according to a xml and unwrap the black rectangle inside the image after appling undistortion trasformation. 

Load from the xml file \textquotesingle{}data/settings.\+xml\textquotesingle{} the name of some images, load the images from the file,~\newline
apply the calibration (undistortion trasformation) thanks to the matrices load with the \textquotesingle{}load\+Coefficients\textquotesingle{} function.~\newline
Then, with the use of a filter for the black the region of interest (a rectangle) is identified and all the perspective is rotated for reach a top view of the rectangle.~\newline
Finally, the images are saved on some files.

\begin{DoxyReturn}{Returns}
A 0 is return if the function reach the end. 
\end{DoxyReturn}
File\+Storage fs\+\_\+xml(xml\+\_\+settings, File\+Storage\+::\+R\+E\+A\+D);

File\+Node Bm = s-\/$>$black\+Mask; 