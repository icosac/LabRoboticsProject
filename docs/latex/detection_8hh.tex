\hypertarget{detection_8hh}{}\section{src/include/detection.hh File Reference}
\label{detection_8hh}\index{src/include/detection.hh@{src/include/detection.hh}}
{\ttfamily \#include $<$utils.\+hh$>$}\newline
{\ttfamily \#include $<$settings.\+hh$>$}\newline
{\ttfamily \#include $<$filter.\+hh$>$}\newline
{\ttfamily \#include $<$configure.\+hh$>$}\newline
{\ttfamily \#include $<$unwrapping.\+hh$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$cmath$>$}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$opencv2/highgui.\+hpp$>$}\newline
{\ttfamily \#include $<$opencv2/core.\+hpp$>$}\newline
{\ttfamily \#include $<$opencv2/opencv.\+hpp$>$}\newline
{\ttfamily \#include $<$opencv2/imgcodecs.\+hpp$>$}\newline
Include dependency graph for detection.\+hh\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{detection_8hh__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{detection_8hh__dep__incl}
\end{center}
\end{figure}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cb}{C\+O\+L\+O\+R\+\_\+\+T\+Y\+PE}} \{ \newline
\mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cbaf80f9a890089d211842d59625e561f88}{R\+ED}}, 
\mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cbaa60bd322f93178d68184e30e162571ca}{G\+R\+E\+EN}}, 
\mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cba35d6719cb4d7577c031b3d79057a1b79}{B\+L\+UE}}, 
\mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cbaafe71cad474c15ce63b300c470eef8cc}{C\+Y\+AN}}, 
\newline
\mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cbaf77fb67151d0c18d397069ad8c271ba3}{B\+L\+A\+CK}}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} \mbox{\hyperlink{detection_8hh_a51eb6bf42d0609ef77c2257d8cc5c3a4}{detection}} (const bool \+\_\+img\+Read=true, const Mat $\ast$img=nullptr)
\begin{DoxyCompactList}\small\item\em Loads some images and detects shapes according to different colors. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{detection_8hh_a8d8ce60a84fb2a955ec798ee17345ce2}{get\+Conversion\+Parameters}} (Mat \&transf, const bool get=true)
\begin{DoxyCompactList}\small\item\em The function simply store the value of the given matrix and allow the access to it from different function location. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_configuration2}{Configuration2}}$<$ double $>$ \mbox{\hyperlink{detection_8hh_a221d17ea441fc9f21088a76d5c3e1f91}{localize}} (const Mat \&img, const bool raw=true)
\begin{DoxyCompactList}\small\item\em Identify the loation of the robot by acquiring the image from the default camera of the environment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{detection_8hh_a51c055450044eff527349c24c2747cac}{shape\+\_\+detection}} (const Mat \&img, const \mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cb}{C\+O\+L\+O\+R\+\_\+\+T\+Y\+PE}} color)
\begin{DoxyCompactList}\small\item\em Detect shapes inside the image according to the variable \textquotesingle{}color\textquotesingle{}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{detection_8hh_a29a46cee302e076e220603d6bb55f8b5}{erode\+\_\+dilation}} (Mat \&img, const \mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cb}{C\+O\+L\+O\+R\+\_\+\+T\+Y\+PE}} color)
\begin{DoxyCompactList}\small\item\em It apply some filtering function for isolate the subject and remove the noise. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{detection_8hh_a26fa1540618b22726a42c239030662b4}{find\+\_\+contours}} (const Mat \&img, const Mat \&original, const \mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cb}{C\+O\+L\+O\+R\+\_\+\+T\+Y\+PE}} color)
\begin{DoxyCompactList}\small\item\em Given an image, in black/white format, identify all the borders that delimit the shapes. \end{DoxyCompactList}\item 
\mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} \mbox{\hyperlink{detection_8hh_a785fcf35ca81d113a1ea3d831fbdbc22}{number\+\_\+recognition}} (Rect blob, const Mat \&base)
\begin{DoxyCompactList}\small\item\em Detect a number on an image inside a region of interest. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{detection_8hh_a79a1c18ddf68e72685d61376ff24948b}{save\+\_\+convex\+\_\+hull}} (const vector$<$ vector$<$ Point $>$$>$ \&contours, const \mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cb}{C\+O\+L\+O\+R\+\_\+\+T\+Y\+PE}} color)
\begin{DoxyCompactList}\small\item\em Given some vector save it in a xml file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{detection_8hh_a50993b0aa4f01d89a4e5d0aef4e1e5f4}{load\+\_\+number\+\_\+template}} ()
\begin{DoxyCompactList}\small\item\em Load some templates and save them in the global variable \textquotesingle{}templates\textquotesingle{}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{detection_8hh_a8edaf0da54add7cd1461bafecef26b56}{crop\+\_\+number\+\_\+section}} (Mat \&process\+R\+OI)
\begin{DoxyCompactList}\small\item\em Given an image identify the region of interest(\+R\+O\+I) and crop it out. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{detection_8hh_aef17e8300db831cb13df4975928a52cb}\label{detection_8hh_aef17e8300db831cb13df4975928a52cb}} 
\index{detection.hh@{detection.hh}!COLOR\_TYPE@{COLOR\_TYPE}}
\index{COLOR\_TYPE@{COLOR\_TYPE}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{COLOR\_TYPE}{COLOR\_TYPE}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cb}{C\+O\+L\+O\+R\+\_\+\+T\+Y\+PE}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{RED@{RED}!detection.hh@{detection.hh}}\index{detection.hh@{detection.hh}!RED@{RED}}}\mbox{\Hypertarget{detection_8hh_aef17e8300db831cb13df4975928a52cbaf80f9a890089d211842d59625e561f88}\label{detection_8hh_aef17e8300db831cb13df4975928a52cbaf80f9a890089d211842d59625e561f88}} 
R\+ED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{GREEN@{GREEN}!detection.hh@{detection.hh}}\index{detection.hh@{detection.hh}!GREEN@{GREEN}}}\mbox{\Hypertarget{detection_8hh_aef17e8300db831cb13df4975928a52cbaa60bd322f93178d68184e30e162571ca}\label{detection_8hh_aef17e8300db831cb13df4975928a52cbaa60bd322f93178d68184e30e162571ca}} 
G\+R\+E\+EN&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{BLUE@{BLUE}!detection.hh@{detection.hh}}\index{detection.hh@{detection.hh}!BLUE@{BLUE}}}\mbox{\Hypertarget{detection_8hh_aef17e8300db831cb13df4975928a52cba35d6719cb4d7577c031b3d79057a1b79}\label{detection_8hh_aef17e8300db831cb13df4975928a52cba35d6719cb4d7577c031b3d79057a1b79}} 
B\+L\+UE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CYAN@{CYAN}!detection.hh@{detection.hh}}\index{detection.hh@{detection.hh}!CYAN@{CYAN}}}\mbox{\Hypertarget{detection_8hh_aef17e8300db831cb13df4975928a52cbaafe71cad474c15ce63b300c470eef8cc}\label{detection_8hh_aef17e8300db831cb13df4975928a52cbaafe71cad474c15ce63b300c470eef8cc}} 
C\+Y\+AN&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{BLACK@{BLACK}!detection.hh@{detection.hh}}\index{detection.hh@{detection.hh}!BLACK@{BLACK}}}\mbox{\Hypertarget{detection_8hh_aef17e8300db831cb13df4975928a52cbaf77fb67151d0c18d397069ad8c271ba3}\label{detection_8hh_aef17e8300db831cb13df4975928a52cbaf77fb67151d0c18d397069ad8c271ba3}} 
B\+L\+A\+CK&\\
\hline

\end{DoxyEnumFields}


\subsection{Function Documentation}
\mbox{\Hypertarget{detection_8hh_a8edaf0da54add7cd1461bafecef26b56}\label{detection_8hh_a8edaf0da54add7cd1461bafecef26b56}} 
\index{detection.hh@{detection.hh}!crop\_number\_section@{crop\_number\_section}}
\index{crop\_number\_section@{crop\_number\_section}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{crop\_number\_section()}{crop\_number\_section()}}
{\footnotesize\ttfamily void crop\+\_\+number\+\_\+section (\begin{DoxyParamCaption}\item[{Mat \&}]{R\+OI }\end{DoxyParamCaption})}



Given an image identify the region of interest(\+R\+O\+I) and crop it out. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em R\+OI} & Is the image that the function will going to elaborate. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{detection_8hh_a51eb6bf42d0609ef77c2257d8cc5c3a4}\label{detection_8hh_a51eb6bf42d0609ef77c2257d8cc5c3a4}} 
\index{detection.hh@{detection.hh}!detection@{detection}}
\index{detection@{detection}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{detection()}{detection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} detection (\begin{DoxyParamCaption}\item[{const bool}]{\+\_\+img\+Read,  }\item[{const Mat $\ast$}]{img }\end{DoxyParamCaption})}



Loads some images and detects shapes according to different colors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+img\+Read} & Boolean flag that says if load or not the image from file or as a function parameter. True=load from file. \\
\hline
\mbox{\texttt{ in}}  & {\em img} & The imgage that eventually is loaded from the function. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return 0 if the function reach the end. 
\end{DoxyReturn}
\mbox{\Hypertarget{detection_8hh_a29a46cee302e076e220603d6bb55f8b5}\label{detection_8hh_a29a46cee302e076e220603d6bb55f8b5}} 
\index{detection.hh@{detection.hh}!erode\_dilation@{erode\_dilation}}
\index{erode\_dilation@{erode\_dilation}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{erode\_dilation()}{erode\_dilation()}}
{\footnotesize\ttfamily void erode\+\_\+dilation (\begin{DoxyParamCaption}\item[{Mat \&}]{img,  }\item[{const \mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cb}{C\+O\+L\+O\+R\+\_\+\+T\+Y\+PE}}}]{color }\end{DoxyParamCaption})}



It apply some filtering function for isolate the subject and remove the noise. 

An example of the sub functions called are\+: Gaussian\+Blur, Erosion, Dilation and Threshold.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em img} & Is the image on which the function apply the filtering. \\
\hline
\mbox{\texttt{ in}}  & {\em color} & It is the type of reference color. According to the color the filtering functions apply can change in the type and in the order. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{detection_8hh_a26fa1540618b22726a42c239030662b4}\label{detection_8hh_a26fa1540618b22726a42c239030662b4}} 
\index{detection.hh@{detection.hh}!find\_contours@{find\_contours}}
\index{find\_contours@{find\_contours}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{find\_contours()}{find\_contours()}}
{\footnotesize\ttfamily void find\+\_\+contours (\begin{DoxyParamCaption}\item[{const Mat \&}]{img,  }\item[{const Mat \&}]{original,  }\item[{const \mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cb}{C\+O\+L\+O\+R\+\_\+\+T\+Y\+PE}}}]{color }\end{DoxyParamCaption})}



Given an image, in black/white format, identify all the borders that delimit the shapes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em img} & Is an image in H\+SV format at the base of the elaboration process. \\
\hline
\mbox{\texttt{ out}}  & {\em original} & It is the original source of \textquotesingle{}img\textquotesingle{}, it is used for showing the detected contours. \\
\hline
\mbox{\texttt{ in}}  & {\em color} & It is the type of reference color. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{detection_8hh_a8d8ce60a84fb2a955ec798ee17345ce2}\label{detection_8hh_a8d8ce60a84fb2a955ec798ee17345ce2}} 
\index{detection.hh@{detection.hh}!getConversionParameters@{getConversionParameters}}
\index{getConversionParameters@{getConversionParameters}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{getConversionParameters()}{getConversionParameters()}}
{\footnotesize\ttfamily void get\+Conversion\+Parameters (\begin{DoxyParamCaption}\item[{Mat \&}]{transf,  }\item[{const bool}]{get }\end{DoxyParamCaption})}



The function simply store the value of the given matrix and allow the access to it from different function location. 

The transformation matrix are computed in the unwrapping phase and taken from the localization.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em transf} & It is the matrix that can be stored but also retrieved. \\
\hline
\mbox{\texttt{ in}}  & {\em get} & It is the flag that says if the given matrix need to be stored or retrieved. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{detection_8hh_a50993b0aa4f01d89a4e5d0aef4e1e5f4}\label{detection_8hh_a50993b0aa4f01d89a4e5d0aef4e1e5f4}} 
\index{detection.hh@{detection.hh}!load\_number\_template@{load\_number\_template}}
\index{load\_number\_template@{load\_number\_template}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{load\_number\_template()}{load\_number\_template()}}
{\footnotesize\ttfamily void load\+\_\+number\+\_\+template (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Load some templates and save them in the global variable \textquotesingle{}templates\textquotesingle{}. 

\mbox{\Hypertarget{detection_8hh_a221d17ea441fc9f21088a76d5c3e1f91}\label{detection_8hh_a221d17ea441fc9f21088a76d5c3e1f91}} 
\index{detection.hh@{detection.hh}!localize@{localize}}
\index{localize@{localize}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{localize()}{localize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_configuration2}{Configuration2}}$<$double$>$ localize (\begin{DoxyParamCaption}\item[{const Mat \&}]{img,  }\item[{const bool}]{raw }\end{DoxyParamCaption})}



Identify the loation of the robot by acquiring the image from the default camera of the environment. 

\begin{DoxyReturn}{Returns}
The configuration of the robot in this exactly moment.
\end{DoxyReturn}
Identify the location of the robot respect to the given image.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em img} & It is the image where the robot need to be located. \\
\hline
\mbox{\texttt{ in}}  & {\em raw} & It is a boolean flag that says if the img is raw and need filters or not. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The configuration of the robot in this exactly moment, according to the image.
\end{DoxyReturn}
Identify the loation of the robot by acquiring the image from the default camera of the environment.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em img} & It is the image where the robot need to be located. \\
\hline
\mbox{\texttt{ in}}  & {\em raw} & It is a boolean flag that says if the img is raw and need filters or not. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The configuration of the robot in this exactly moment, according to the image. 
\end{DoxyReturn}
\mbox{\Hypertarget{detection_8hh_a785fcf35ca81d113a1ea3d831fbdbc22}\label{detection_8hh_a785fcf35ca81d113a1ea3d831fbdbc22}} 
\index{detection.hh@{detection.hh}!number\_recognition@{number\_recognition}}
\index{number\_recognition@{number\_recognition}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{number\_recognition()}{number\_recognition()}}
{\footnotesize\ttfamily \mbox{\hyperlink{draw_8hh_aa620a13339ac3a1177c86edc549fda9b}{int}} number\+\_\+recognition (\begin{DoxyParamCaption}\item[{Rect}]{blob,  }\item[{const Mat \&}]{base }\end{DoxyParamCaption})}



Detect a number on an image inside a region of interest. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em blob} & Identify the region of interest inside the image \textquotesingle{}base\textquotesingle{}. \\
\hline
\mbox{\texttt{ in}}  & {\em base} & Is the image where the function will going to search the number.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number recognise, \textquotesingle{}-\/1\textquotesingle{} otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{detection_8hh_a79a1c18ddf68e72685d61376ff24948b}\label{detection_8hh_a79a1c18ddf68e72685d61376ff24948b}} 
\index{detection.hh@{detection.hh}!save\_convex\_hull@{save\_convex\_hull}}
\index{save\_convex\_hull@{save\_convex\_hull}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{save\_convex\_hull()}{save\_convex\_hull()}}
{\footnotesize\ttfamily void save\+\_\+convex\+\_\+hull (\begin{DoxyParamCaption}\item[{const vector$<$ vector$<$ Point $>$$>$ \&}]{contours,  }\item[{const \mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cb}{C\+O\+L\+O\+R\+\_\+\+T\+Y\+PE}}}]{color }\end{DoxyParamCaption})}



Given some vector save it in a xml file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em contours} & Is a vector that is saved in a xml file. \\
\hline
\mbox{\texttt{ in}}  & {\em color} & It is the type of reference color, according to which the function decide if saved (\textquotesingle{}color==G\+R\+E\+EN\textquotesingle{}) or not (\textquotesingle{}otherwise\textquotesingle{}) the vector \textquotesingle{}victims\textquotesingle{}. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{detection_8hh_a51c055450044eff527349c24c2747cac}\label{detection_8hh_a51c055450044eff527349c24c2747cac}} 
\index{detection.hh@{detection.hh}!shape\_detection@{shape\_detection}}
\index{shape\_detection@{shape\_detection}!detection.hh@{detection.hh}}
\subsubsection{\texorpdfstring{shape\_detection()}{shape\_detection()}}
{\footnotesize\ttfamily void shape\+\_\+detection (\begin{DoxyParamCaption}\item[{const Mat \&}]{img,  }\item[{const \mbox{\hyperlink{detection_8hh_aef17e8300db831cb13df4975928a52cb}{C\+O\+L\+O\+R\+\_\+\+T\+Y\+PE}}}]{color }\end{DoxyParamCaption})}



Detect shapes inside the image according to the variable \textquotesingle{}color\textquotesingle{}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em img} & Image on which the research will done. \\
\hline
\mbox{\texttt{ in}}  & {\em color} & It is the type of reference color. These color identify the possible spectrum that the function search on the image. \\
\hline
\end{DoxyParams}
